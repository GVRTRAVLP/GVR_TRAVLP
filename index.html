<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>GVR_TRAVLP â€” Weekend Trips (gvrtra)</title>
<meta name="description" content="GVR_TRAVLP â€” Weekend trips from Hyderabad. Book trekking, devotional, waterfalls and combo trips. Search gvrtra to find us." />
<meta name="keywords" content="gvrtra, GVR_TRAVLP, weekend trips, Hyderabad trips, Papikondalu, Bhadrachalam, Ananthagiri" />
<meta property="og:title" content="GVR_TRAVLP â€” Weekend Trips" />
<meta property="og:description" content="Book weekend trips â€” trekking, devotional, waterfalls and combo trips. Pay online and register." />
<meta property="og:image" content="assets/logo.png" />
<meta name="author" content="Ram (GVR)" />
<style>
:root{--accent:#ff7a18;--muted:#666;--bg:#fbf7f0;--card:#fff;--radius:12px}
*{box-sizing:border-box}
body{font-family:Inter,system-ui,Arial,sans-serif;margin:0;color:#222;background:var(--bg)}
.container{max-width:1100px;margin:18px auto;padding:18px}
.header{display:flex;gap:12px;align-items:center}
.logo{width:86px;height:86px;border-radius:12px;object-fit:cover}
h1{margin:0;font-size:22px}
.sub{color:var(--muted);font-size:14px}
.layout{display:grid;grid-template-columns:1fr 380px;gap:18px;margin-top:18px}
.card{background:var(--card);border-radius:var(--radius);padding:14px;box-shadow:0 8px 20px rgba(0,0,0,0.06)}
.media{height:260px;border-radius:10px;overflow:hidden}
.gallery{display:flex;gap:8px;margin-top:10px}
.gallery img{width:100px;height:70px;object-fit:cover;border-radius:8px}
.groupTitle{font-weight:700;margin:10px 0 8px;font-size:16px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px}
.tripCard{background:linear-gradient(#fff,#fff);border-radius:10px;padding:10px;min-height:120px;display:flex;flex-direction:column;justify-content:space-between}
.tripCard img{width:100%;height:140px;object-fit:cover;border-radius:8px}
.tripInfo{padding:8px 0}
.price{color:var(--accent);font-weight:700}
.asideSticky{position:sticky;top:18px}
input,select,button,textarea{padding:10px;border-radius:8px;border:1px solid #eaeaea;font-size:14px;width:100%}
button{background:var(--accent);color:#fff;border:none;cursor:pointer}
button.ghost{background:none;color:#ff7a18;border:1px solid #ff7a18}
.small{font-size:13px;color:var(--muted)}
.steps{display:flex;gap:6px;margin-bottom:10px}
.step{flex:1;padding:8px;border-radius:8px;text-align:center;background:#f7f3ef;font-weight:700}
.step.active{background:var(--accent);color:#fff}
.hidden{display:none}
.footer{margin-top:22px;color:var(--muted);text-align:center;padding-bottom:40px}
@media(max-width:900px){.layout{grid-template-columns:1fr}.media{height:200px}}
</style>
</head>
<body>
<div class="container">
Â  <header class="header">
Â  Â  <img src="assets/logo.png" class="logo" alt="GVR_LOGO">
Â  Â  <div>
Â  Â  Â  <h1>GVR_TRAVLP â€” Weekend Traveller</h1>
Â  Â  Â  <div class="sub">Follow @gvryalla Â· Search "gvrtra" to find us Â· Hyderabad trips</div>
Â  Â  </div>
Â  </header>

Â  <main class="layout">
Â  Â  <section>
Â  Â  Â  <div class="card">
Â  Â  Â  Â  <div class="media">
Â  Â  Â  Â  Â  <blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/reel/DO0y0pnEYBv/" data-instgrm-version="14" style="background:#fff;margin:0 auto;max-width:640px;padding:0"></blockquote>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <h2 style="margin-top:12px">What you'll see</h2>
Â  Â  Â  Â  <p class="small">Trip highlights, visit images and a secured pay & register flow. Choose your weekend (Sat or Sun), enter passenger details, pay and confirm.</p>

Â  Â  Â  Â  <div style="margin-top:12px" id="tripList">
Â  Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </section>

Â  Â  <aside>
Â  Â  Â  <div class="card asideSticky">
Â  Â  Â  Â  <div class="steps">
Â  Â  Â  Â  Â  <div class="step active" id="step1Label">1. Select</div>
Â  Â  Â  Â  Â  <div class="step" id="step2Label">2. Details</div>
Â  Â  Â  Â  Â  <div class="step" id="step3Label">3. Pay</div>
Â  Â  Â  Â  Â  <div class="step" id="step4Label">4. Confirm</div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="step1">
Â  Â  Â  Â  Â  <label class="small">Choose trip</label>
Â  Â  Â  Â  Â  <select id="selectTrip"></select>
Â  Â  Â  Â  Â  <label class="small" style="margin-top:8px">Choose weekend date</label>
Â  Â  Â  Â  Â  <select id="selectDate"></select>
Â  Â  Â  Â  Â  <div style="margin-top:10px" class="small">Selected price shows at the top of the payment screen.</div>
Â  Â  Â  Â  Â  <button style="margin-top:12px" onclick="goToDetails()">Proceed to Details</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <form id="step2" class="hidden" onsubmit="event.preventDefault(); goToPay();">
Â  Â  Â  Â  Â  <label class="small">Full name</label>
Â  Â  Â  Â  Â  <input id="p_name" required placeholder="Name">
Â  Â  Â  Â  Â  <label class="small">Mobile</label>
Â  Â  Â  Â  Â  <input id="p_mobile" required pattern='\d{10}' placeholder="9390xxxxxxx">
Â  Â  Â  Â  Â  <label class="small">Age</label>
Â  Â  Â  Â  Â  <input id="p_age" type="number" min="1" max="120" required placeholder="Age">
Â  Â  Â  Â  Â  <label class="small">Gender</label>
Â  Â  Â  Â  Â  <select id="p_gender" required>
Â  Â  Â  Â  Â  Â  <option value="">Select gender</option>
Â  Â  Â  Â  Â  Â  <option>Male</option><option>Female</option><option>Other</option>
Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  <label class="small">Email (optional)</label>
Â  Â  Â  Â  Â  <input id="p_email" type="email" placeholder="you@example.com">
Â  Â  Â  Â  Â  <label class="small">Additional notes</label>
Â  Â  Â  Â  Â  <textarea id="p_notes" rows="2" placeholder="Pickup point, medical info..."></textarea>

Â  Â  Â  Â  Â  <div style="display:flex;gap:8px;margin-top:8px">
Â  Â  Â  Â  Â  Â  <button type="submit">Proceed to Pay</button>
Â  Â  Â  Â  Â  Â  <button type="button" class="ghost" onclick="backToSelect()">Back</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </form>

Â  Â  Â  Â  <div id="step3" class="hidden">
Â  Â  Â  Â  Â  <h4 style="margin:0">Pay & Confirm</h4>
Â  Â  Â  Â  Â  <div style="margin-top:8px" class="small">Amount: <span id="payAmount" style="font-weight:700;color:var(--accent)"></span></div>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <div style="margin-top:15px">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="openUpi()" style="background-color: #007bff; color: #fff; font-size: 16px; padding: 12px;">Pay with UPI App</button>
Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  <div style="margin-top:15px" class="small">
Â  Â  Â  Â  Â  Â  After successful payment, click <strong>Payment Done</strong> and send the transaction details to the organizer on WhatsApp for quick confirmation.
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <label class="small" style="margin-top:8px">Transaction Reference (Optional, but recommended)</label>
Â  Â  Â  Â  Â  <input id="txn_ref" placeholder="Txn id / reference from your UPI app">
Â  Â  Â  Â  Â  <div style="display:flex;gap:8px;margin-top:10px">
Â  Â  Â  Â  Â  Â  <button onclick="confirmPaid()">Payment Done</button>
Â  Â  Â  Â  Â  Â  <button class="ghost" onclick="backToDetails()">Back</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="step4" class="hidden">
Â  Â  Â  Â  Â  <h4>Confirmation Awaited</h4>
Â  Â  Â  Â  Â  <p class="small" id="confMsg">We will send your details to the organizer.</p>
Â  Â  Â  Â  Â  <div style="display:flex;gap:8px;margin-top:8px">
Â  Â  Â  Â  Â  Â  <button onclick="finish()">Finish</button>
Â  Â  Â  Â  Â  Â  <button class="ghost" onclick="startOver()">Book another</button>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  </div>
Â  Â  </aside>
Â  </main>

Â  <footer class="footer">Â© GVR_TRAVLP â€” Travel far and feed with love Â· Follow @gvryalla</footer>
</div>

<script async src="//www.instagram.com/embed.js"></script>
<script>
// --- Configuration ---
const ADMIN_EMAIL = "gvrtravlp@gmail.com"; // NEW EMAIL ADDRESS
const ADMIN_PHONE = "+919390184813";
const UPI_ID = "27722222@ybl";
const PAY_LINK = ""; // optional deep link
// --- Trip Data (Remains the same) ---
const tripsData = {
Â  "ğŸŸ¦ TREKKING / NATURE": [
Â  Â  {"title":"Ananthagiri Hills","price":993,"img":"assets/places/1.jpg"},
Â  Â  {"title":"Bhongir Fort","price":905,"img":"assets/places/2.jpg"},
Â  Â  {"title":"Koil Sagar + Koilkonda","price":1250,"img":"assets/places/3.jpg"},
Â  Â  {"title":"Pocharam + Nizam Sagar","price":1122,"img":"assets/places/4.jpg"},
Â  Â  {"title":"Bogatha Waterfalls","price":1525,"img":"assets/places/5.jpg"}
Â  ],
Â  "ğŸŸ¦ DEVOTIONAL": [
Â  Â  {"title":"Yadadri","price":930,"img":"assets/places/6.jpg"},
Â  Â  {"title":"Vemulawada","price":1250,"img":"assets/places/7.jpg"},
Â  Â  {"title":"Basara","price":1460,"img":"assets/places/8.jpg"},
Â  Â  {"title":"Kondagattu","price":1393,"img":"assets/places/9.jpg"},
Â  Â  {"title":"Bhadrachalam","price":1800,"img":"assets/places/10.jpg"}
Â  ],
Â  "ğŸŸ¦ WATERFALLS / NATURE": [
Â  Â  {"title":"Papikondalu","price":1765,"img":"assets/places/11.jpg"},
Â  Â  {"title":"Laknavaram","price":1460,"img":"assets/places/12.jpg"},
Â  Â  {"title":"Ramappa Temple + Lake","price":1495,"img":"assets/places/13.jpg"}, // Changed from 1.jpg
Â  Â  {"title":"Kuntala + Pochera","price":1720,"img":"assets/places/14.jpg"}, // Changed from 2.jpg
Â  Â  {"title":"Gayatri Waterfalls","price":1645,"img":"assets/places/15.jpg"}Â  // Changed from 3.jpg
Â  ],
Â  "ğŸŸ¦ ANDHRA PRADESH TRIPS": [
Â  Â  {"title":"Srisailam","price":1525,"img":"assets/places/16.jpg"}, // Changed from 4.jpg
Â  Â  {"title":"Horsley Hills","price":2670,"img":"assets/places/17.jpg"}, // Changed from 5.jpg
Â  Â  {"title":"Gandikota","price":2065,"img":"assets/places/18.jpg"}, // Changed from 6.jpg
Â  Â  {"title":"Ahobilam","price":1995,"img":"assets/places/19.jpg"}Â  // Changed from 7.jpg
Â  ],
Â  "ğŸŸ¦ KARNATAKA TRIPS": [
Â  Â  {"title":"Bidar","price":1215,"img":"assets/places/20.jpg"}, // Changed from 8.jpg
Â  Â  {"title":"Basavakalyan Fort","price":1460,"img":"assets/places/21.jpg"}, // Changed from 9.jpg
Â  Â  {"title":"Hampi","price":2065,"img":"assets/places/22.jpg"} // Changed from 10.jpg
Â  ],
Â  "ğŸŸ¦ MAHARASHTRA TRIPS": [
Â  Â  {"title":"Nanded (Hazur Sahib)","price":1720,"img":"assets/places/23.jpg"}, // Changed from 11.jpg
Â  Â  {"title":"Ajanta & Ellora","price":2600,"img":"assets/places/24.jpg"} // Changed from 12.jpg
Â  ],
Â  "ğŸŸ¨ ANDHRA PRADESH EXTRA PLACES": [
Â  Â  {"title":"Araku Valley","price":2890,"img":"assets/places/25.jpg"}, // Changed from 1.jpg
Â  Â  {"title":"Katiki Waterfalls","price":2960,"img":"assets/places/26.jpg"}, // Changed from 2.jpg
Â  Â  {"title":"Borra Caves","price":2960,"img":"assets/places/27.jpg"} // Changed from 3.jpg
Â  ],
Â  "â­ COMBO TRIPS":[
Â  Â  {"title":"Combo 1: Bhadrachalam + Papikondalu","price":1900,"img":"assets/places/28.jpg"}, // Changed from 4.jpg
Â  Â  {"title":"Combo 2: Laknavaram + Ramappa Temple","price":1600,"img":"assets/places/29.jpg"}, // Changed from 5.jpg
Â  Â  {"title":"Combo 3: Ananthagiri Hills + Kotepally","price":1150,"img":"assets/places/30.jpg"}, // Changed from 6.jpg
Â  Â  {"title":"Combo 4: Srisailam Full Trip","price":1650,"img":"assets/places/31.jpg"}, // Changed from 7.jpg
Â  Â  {"title":"Combo 5: Gandikota + Belum Caves","price":2250,"img":"assets/places/32.jpg"}, // Changed from 8.jpg
Â  Â  {"title":"Combo 6: Kuntala + Pochera + Basara","price":1950,"img":"assets/places/33.jpg"}, // Changed from 9.jpg
Â  Â  {"title":"Combo 7: Hampi","price":2200,"img":"assets/places/34.jpg"}, // Changed from 10.jpg
Â  Â  {"title":"Combo 8: Ahobilam Trek","price":2150,"img":"assets/places/35.jpg"} // Changed from 11.jpg
Â  ]
};

let passengerDetails = {}; // Global variable to store details

// Render trip groups (function remains the same)
function renderTrips(){
Â  const container = document.getElementById('tripList');
Â  for(const [group, arr] of Object.entries(tripsData)){
Â  Â  const section = document.createElement('div');
Â  Â  section.innerHTML = `<div class="groupTitle">${group}</div>`;
Â  Â  const grid = document.createElement('div'); grid.className = 'grid';
Â  Â  arr.forEach(item=>{
Â  Â  Â  const card = document.createElement('div');
Â  Â  Â  card.className = 'tripCard';
Â  Â  Â  card.innerHTML = `<div><img src="${item.img}" alt="${item.title}"></div>
Â  Â  Â  Â  <div class="tripInfo"><strong>${item.title}</strong><div class="price">â‚¹${item.price}</div></div>
Â  Â  Â  Â  <div><button onclick="selectTrip('${item.title.replace(/'/g,'\'')}',${item.price})">Book â‚¹${item.price}</button></div>`;
Â  Â  Â  grid.appendChild(card);
Â  Â  });
Â  Â  section.appendChild(grid);
Â  Â  container.appendChild(section);
Â  }
}

// populate selectTrip dropdown (function remains the same)
function populateSelect(){
Â  const sel = document.getElementById('selectTrip');
Â  sel.innerHTML = '';
Â  for(const arr of Object.values(tripsData)){
Â  Â  for(const t of arr){
Â  Â  Â  const opt = document.createElement('option');
Â  Â  Â  opt.value = `${t.title}||${t.price}`;
Â  Â  Â  opt.text = `${t.title} â€” â‚¹${t.price}`;
Â  Â  Â  sel.appendChild(opt);
Â  Â  }
Â  }
}

// weekend dates generator (function remains the same)
function generateWeekends(fromDate, endDate){
Â  const arr=[];
Â  const d = new Date(fromDate);
Â  while(d<=endDate){
Â  Â  if(d.getDay()===0 || d.getDay()===6){
Â  Â  Â  arr.push(new Date(d));
Â  Â  }
Â  Â  d.setDate(d.getDate()+1);
Â  }
Â  return arr;
}
function populateDates(){
Â  const sel = document.getElementById('selectDate');
Â  const today = new Date();
Â  const end = new Date('2026-12-31');
Â  const weekends = generateWeekends(today, end);
Â  weekends.forEach(dt=>{
Â  Â  const o = document.createElement('option');
Â  Â  o.value = dt.toISOString();
Â  Â  o.text = dt.toLocaleDateString(undefined,{weekday:'short',day:'2-digit',month:'short',year:'numeric'});
Â  Â  sel.appendChild(o);
Â  });
}

// flow helpers (modified for new flow)
function selectTrip(title, price){
Â  // set select options and go to details
Â  const sel = document.getElementById('selectTrip');
Â  for(let i=0;i<sel.options.length;i++){
Â  Â  if(sel.options[i].value.startsWith(title + '||')){ sel.selectedIndex = i; break; }
Â  }
Â  goToDetails();
}
function goToDetails(){
Â  document.getElementById('step1').classList.add('hidden');
Â  document.getElementById('step2').classList.remove('hidden');
Â  document.getElementById('step1Label').classList.remove('active');
Â  document.getElementById('step2Label').classList.add('active');
}
function backToSelect(){
Â  document.getElementById('step2').classList.add('hidden');
Â  document.getElementById('step1').classList.remove('hidden');
Â  document.getElementById('step2Label').classList.remove('active');
Â  document.getElementById('step1Label').classList.add('active');
}
function goToPay(){
Â  // validate and save details
Â  const name = document.getElementById('p_name').value.trim();
Â  const mobile = document.getElementById('p_mobile').value.trim();
Â  const age = document.getElementById('p_age').value.trim();
Â  const gender = document.getElementById('p_gender').value.trim();
Â  const email = document.getElementById('p_email').value.trim();
Â  const notes = document.getElementById('p_notes').value.trim();

Â  if(!name || !mobile.match(/^\d{10}$/) || !age || !gender){Â 
Â  Â  Â  alert('Please enter valid Name, 10-digit Mobile, Age, and select Gender.');Â 
Â  Â  Â  return;Â 
Â  }

Â  // Save details to global variable
Â  passengerDetails = { name, mobile, age, gender, email, notes };

Â  document.getElementById('step2').classList.add('hidden');
Â  document.getElementById('step3').classList.remove('hidden');
Â  document.getElementById('step2Label').classList.remove('active');
Â  document.getElementById('step3Label').classList.add('active');
Â Â 
Â  // show amount
Â  const sel = document.getElementById('selectTrip').value;
Â  const price = sel.split('||')[1];
Â  document.getElementById('payAmount').textContent = 'â‚¹' + price;

Â  /*
Â  Â  * BACKEND INTEGRATION IS REQUIRED HERE *
Â  Â  In a production environment, this is where you would:
Â  Â  1. **Generate a unique booking ID** on your server.
Â  Â  2. **Initiate a payment session** with your Payment Gateway (e.g., Razorpay/PayU) for the selected price.
Â  Â  3. Display the Payment Gateway's UI or trigger a direct UPI deep link with the correct parameters, including the unique transaction reference tied to the booking ID.
Â  */
}
function backToDetails(){
Â  document.getElementById('step3').classList.add('hidden');
Â  document.getElementById('step2').classList.remove('hidden');
Â  document.getElementById('step3Label').classList.remove('active');
Â  document.getElementById('step2Label').classList.add('active');
}

// Removed copyUPI since QR/UPI ID are hidden.

function openUpi(){
Â  const sel = document.getElementById('selectTrip').value;
Â  const [title, price] = sel.split('||');
Â  
Â  // Generate a unique, time-based transaction reference
Â  const transactionRef = 'GVR'+new Date().getTime().toString().slice(-8); 
Â 
Â  // Construct UPI deep link with dynamic price and a temporary reference
Â  // NOTE: Using a hardcoded UPI ID is insecure and leads to manual reconciliation.
Â  // This is a temporary solution until a Payment Gateway is integrated.
Â  const uri = `upi://pay?pa=${encodeURIComponent(UPI_ID)}&pn=${encodeURIComponent('GVR_TRAVLP')}&mc=0000&tid=${transactionRef}&tr=${transactionRef}&tn=${encodeURIComponent('Trip payment for ' + title)}&am=${price}&cu=INR`;
Â Â 
Â  // Try to open UPI app first
Â  window.location.href = uri;
Â Â 
Â  // Alert for manual payment if deep link fails (after a short delay)
Â  setTimeout(() => {
Â  Â  Â alert('If the UPI app did not open, please proceed with manual payment using UPI ID or scan the QR (if available) from a different device, then click "Payment Done".');
Â  }, 1000);
}


// Modified confirmPaid flow to enforce WhatsApp sharing
function confirmPaid(){
Â  const sel = document.getElementById('selectTrip').value;
Â  const [title, price] = sel.split('||');
Â  const date = new Date(document.getElementById('selectDate').value).toLocaleDateString(undefined,{weekday:'short',day:'2-digit',month:'short',year:'numeric'});
Â  const txn = document.getElementById('txn_ref').value.trim() || 'Not Provided (Check UPI App)'; // Allow blank but note it

Â  // Construct final payload
Â  const payload = {
Â  Â  trip: title,
Â  Â  price: price,
Â  Â  date: date,
Â  Â  name: passengerDetails.name,Â 
Â  Â  mobile: passengerDetails.mobile,Â 
Â  Â  age: passengerDetails.age,Â 
Â  Â  gender: passengerDetails.gender,Â 
Â  Â  email: passengerDetails.email,Â 
Â  Â  notes: passengerDetails.notes,Â 
Â  Â  txn: txn,
Â  Â  submittedAt: new Date().toISOString()
Â  };

Â  // Summary for the user to copy/send
Â  const bookingSummary = `
ğŸ‰ **New GVR_TRAVLP Booking Confirmation** ğŸ‰

Trip: ${payload.trip}
Date: ${payload.date}
Price: â‚¹${payload.price}

--- Passenger Details ---
Name: ${payload.name}
Mobile: ${payload.mobile}
Age/Gender: ${payload.age}/${payload.gender}
Email: ${payload.email || 'N/A'}
Notes: ${payload.notes || 'N/A'}

--- Payment Proof ---
**Payment Done!**
Txn Ref: ${payload.txn}
(Please verify in your UPI app for full details).

**Ganga, please confirm my booking!**
Â  `;

Â  // WhatsApp link creation - **THIS IS THE CRITICAL MANUAL CONFIRMATION STEP**
Â  const whatsappUrl = 'https://wa.me/' + ADMIN_PHONE.replace(/\D/g,'') + '?text=' + encodeURIComponent(bookingSummary);

Â  // Show confirmation step
Â  document.getElementById('step3').classList.add('hidden');
Â  document.getElementById('step4').classList.remove('hidden');
Â  document.getElementById('step3Label').classList.remove('active');
Â  document.getElementById('step4Label').classList.add('active');

Â  // Update confirmation message with actionable items
Â  document.getElementById('confMsg').innerHTML = `
Â  Â  <p style="font-size: 16px; font-weight: 700;">
Â  Â  Â  Thank you ${payload.name}! Your registration is complete.
Â  Â  </p>
Â  Â  <p class="small">
Â  Â  Â  Please send your booking details to the organizer now to confirm your seat and receive your automatic receipt and trip details!
Â  Â  </p>

Â  Â  <div style="display:flex;flex-direction:column;gap:8px;margin-top:12px">
Â  Â  Â  <a href="${whatsappUrl}" target="_blank" style="width: 100%; text-decoration: none;">
Â  Â  Â  Â  <button style="background-color: #25d366; font-size: 16px; padding: 12px; display: block; width: 100%;">
Â  Â  Â  Â  Â  Send Details & Get Receipt on WhatsApp
Â  Â  Â  Â  </button>
Â  Â  Â  </a>
Â  Â  Â  <button onclick="copyBookingDetails('${encodeURIComponent(bookingSummary.trim())}')" class="ghost">Copy Details (Alternative)</button>
Â  Â  </div>

Â  Â  <p class="small" style="margin-top: 15px;">
Â  Â  Â  *An automated email notification will also be sent to the organizer at ${ADMIN_EMAIL}.
Â  Â  </p>
Â  `;

Â  /*
Â  Â  * BACKEND INTEGRATION IS REQUIRED HERE *
Â  Â  The following steps **MUST** be handled by your backend server for security and automation:
Â  Â  1. **Email Notification to Organizer:** Send an email to ${ADMIN_EMAIL} with the full 'payload'.
Â  Â  2. **Payment Validation:** The payment gateway must send a webhook to your server confirming the payment is SUCCESSFUL.
Â  Â  3. **Automated Customer Notification:** *Only after successful payment validation*, trigger the automatic WhatsApp message and/or SMS/Email to the customer with the official receipt and "Thank you for booking... our organizer Ganga will take care of you" message.
Â  Â 
Â  Â  **The current front-end code CANNOT perform steps 1, 2, or 3.** It only facilitates the manual step of sending a WhatsApp message.
Â  */

Â  // --- TEMPORARY EMAIL SIMULATION (NOT SECURE/RELIABLE) ---
Â  // In a real scenario, this would be a secure server-side call.
Â  console.log('Simulating sending email notification to organizer:', payload); 
Â  // ---
}

function copyBookingDetails(encodedSummary){
Â  Â  const summary = decodeURIComponent(encodedSummary);
Â  Â  navigator.clipboard.writeText(summary).then(() => {
Â  Â  Â  Â  alert('Booking details copied to clipboard! Now send them to the organizer on WhatsApp/Email.');
Â  Â  }).catch(err => {
Â  Â  Â  Â  alert('Could not automatically copy. Please send the details manually.');
Â  Â  });
}

function finish(){ alert('Thanks! Organizer will contact you soon.'); startOver(); }
function startOver(){
Â  // reset to step1 and clear inputs
Â  document.getElementById('step4').classList.add('hidden');
Â  document.getElementById('step1').classList.remove('hidden');
Â  document.getElementById('step4Label').classList.remove('active');
Â  document.getElementById('step1Label').classList.add('active');
Â  // Clear input fields
Â  document.getElementById('p_name').value=''; document.getElementById('p_mobile').value=''; document.getElementById('p_age').value='';
Â  document.getElementById('p_gender').value=''; document.getElementById('p_email').value=''; document.getElementById('p_notes').value='';
Â  document.getElementById('txn_ref').value='';
Â  passengerDetails = {}; // Clear stored data
}

document.addEventListener('DOMContentLoaded', function(){
Â  renderTrips();
Â  populateSelect();
Â  populateDates();
});
</script>
</body>
</html>
