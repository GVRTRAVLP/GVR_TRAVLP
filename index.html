<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GVR_TRAVLP ‚Äî Weekend Adventures</title>
  <meta name="description" content="GVR_TRAVLP ‚Äî Book trekking, devotional, and nature trips from Hyderabad." />

  <style>
    :root {
      --primary: #d32f2f; /* Abhibus-like Red/Maroon */
      --accent: #ff7a18;
      --bg: #f5f5f5;
      --card: #ffffff;
      --text: #333;
      --radius: 8px;
    }

    * { box-sizing: border-box; }
    body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; margin: 0; background: var(--bg); color: var(--text); padding-bottom: 60px; }
    
    /* Header */
    header { background: var(--card); padding: 15px 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; display: flex; align-items: center; gap: 15px; }
    .logo { height: 50px; width: 50px; border-radius: 50%; object-fit: cover; }
    h1 { margin: 0; font-size: 20px; color: var(--primary); }
    .subtitle { font-size: 12px; color: #666; }

    /* Layout */
    .container { max-width: 1200px; margin: 20px auto; display: grid; grid-template-columns: 1fr 350px; gap: 20px; padding: 0 15px; }

    /* Trip Cards Grid */
    .category-title { grid-column: 1 / -1; margin-top: 30px; font-size: 18px; font-weight: 700; color: #444; border-left: 4px solid var(--primary); padding-left: 10px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; }
    
    .trip-card { background: var(--card); border-radius: var(--radius); overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: transform 0.2s; cursor: pointer; border: 1px solid transparent; }
    .trip-card:hover { transform: translateY(-3px); border-color: var(--primary); }
    .trip-img { width: 100%; height: 140px; object-fit: cover; }
    .trip-info { padding: 12px; }
    .trip-name { font-weight: 600; font-size: 15px; margin: 0 0 5px 0; }
    .trip-price { color: var(--primary); font-weight: 700; font-size: 16px; }

    /* Booking Sidebar (Sticky) */
    aside { align-self: start; position: sticky; top: 90px; }
    
    .booking-box { background: var(--card); border-radius: var(--radius); padding: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
    .box-header { font-size: 18px; font-weight: 700; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee; }

    /* Form Elements */
    label { display: block; font-size: 13px; font-weight: 600; color: #555; margin-bottom: 5px; margin-top: 12px; }
    input, select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
    input:focus, select:focus { border-color: var(--primary); outline: none; }
    
    .row { display: flex; gap: 10px; }
    .col { flex: 1; }

    .btn-primary { width: 100%; background: var(--primary); color: white; padding: 12px; border: none; border-radius: 4px; font-weight: 600; font-size: 16px; margin-top: 20px; cursor: pointer; transition: background 0.2s; }
    .btn-primary:hover { background: #b71c1c; }

    /* Payment UI (Abhibus Style) */
    .payment-summary { background: #fff5f5; padding: 15px; border-radius: 4px; border: 1px solid #ffcdd2; margin-bottom: 15px; }
    .total-label { font-size: 14px; color: #555; }
    .total-amount { font-size: 24px; font-weight: 700; color: var(--primary); }

    .payment-method { margin-top: 15px; }
    .upi-row { display: flex; gap: 10px; margin-bottom: 15px; }
    .upi-app { flex: 1; border: 1px solid #ddd; border-radius: 6px; padding: 8px; text-align: center; cursor: pointer; background: #fff; font-size: 13px; font-weight: 600; }
    .upi-app:hover { background: #f9f9f9; border-color: #aaa; }

    .qr-container { text-align: center; margin-top: 10px; padding: 10px; background: #f9f9f9; border-radius: 8px; }
    .qr-img { width: 150px; height: 150px; mix-blend-mode: multiply; }
    .upi-id-text { font-family: monospace; background: #eee; padding: 4px 8px; border-radius: 4px; display: inline-block; margin-top: 5px; font-size: 14px; }

    .success-msg { text-align: center; color: green; font-weight: 600; display: none; padding: 10px; }

    /* Mobile Responsive */
    @media (max-width: 800px) {
      .container { grid-template-columns: 1fr; }
      aside { position: relative; top: 0; order: -1; margin-bottom: 20px; }
    }
  </style>
</head>
<body>

<header>
  <img src="images/logo.png" alt="GVR" class="logo" onerror="this.src='https://via.placeholder.com/50?text=GVR'">
  <div>
    <h1>GVR_TRAVLP</h1>
    <div class="subtitle">Weekend Trips ¬∑ Trekking ¬∑ Devotional</div>
  </div>
</header>

<div class="container">

  <main id="placesContainer">
    </main>

  <aside>
    <div class="booking-box" id="bookingBox">
      
      <div id="step1">
        <div class="box-header">Book Your Trip</div>
        
        <label>Select Destination</label>
        <select id="tripSelect" onchange="updatePrice()"></select>

        <label>Travel Date (Weekend)</label>
        <select id="dateSelect"></select>

        <label>Full Name</label>
        <input type="text" id="name" placeholder="Enter your name">

        <label>Mobile Number</label>
        <input type="tel" id="mobile" placeholder="10-digit number" maxlength="10">

        <div class="row">
          <div class="col">
            <label>Age</label>
            <input type="number" id="age" placeholder="25">
          </div>
          <div class="col">
            <label>Gender</label>
            <select id="gender">
              <option value="">Select</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>

        <button class="btn-primary" onclick="goToPayment()">Proceed to Pay</button>
      </div>

      <div id="step2" style="display: none;">
        <div class="box-header">Payment</div>
        
        <div class="payment-summary">
          <div class="total-label">Total Amount to Pay</div>
          <div class="total-amount" id="payAmount">‚Çπ0</div>
        </div>

        <div class="payment-method">
          <label style="margin-top:0">Pay via UPI App</label>
          <div class="upi-row">
            <div class="upi-app" onclick="openUpi('gpay')">Google Pay</div>
            <div class="upi-app" onclick="openUpi('phonepe')">PhonePe</div>
            <div class="upi-app" onclick="openUpi('paytm')">Paytm</div>
          </div>

          <label>Or Scan QR Code</label>
          <div class="qr-container">
            <img src="images/qr.png" alt="Scan QR" class="qr-img" onerror="this.src='https://via.placeholder.com/150?text=QR+Code'">
            <br>
            <div class="upi-id-text" onclick="copyUpi()">27722222@ybl <span style="font-size:10px; cursor:pointer">üìã</span></div>
          </div>
        </div>

        <button class="btn-primary" onclick="confirmPayment()">I Have Paid - Confirm Booking</button>
        <div style="text-align:center; margin-top:10px; font-size:13px; color:#666; cursor:pointer" onclick="goBack()">‚Üê Back to Details</div>
      </div>

    </div>
  </aside>

</div>

<script>
  // --- CONFIGURATION ---
  const UPI_ID = "27722222@ybl";
  const ADMIN_PHONE = "9390184813"; // Without +91 for link generation usually

  // --- DATA: TRIPS & IMAGES ---
  // Ensure image filenames match exactly what you saved in 'images' folder
  const tripsData = [
    { cat: 'üìç Short Getaways', items: [
      { name: 'Ananthagiri Hills', price: 993, img: 'images/ananthagiri.jpg' },
      { name: 'Bhongir Fort', price: 905, img: 'images/bhongir.jpg' },
      { name: 'Koil Sagar + Koilkonda', price: 1250, img: 'images/koil-sagar.jpg' },
      { name: 'Pocharam + Nizam Sagar', price: 1122, img: 'images/pocharam.jpg' },
      { name: 'Bogatha Waterfalls', price: 1525, img: 'images/bogatha.jpg' }
    ]},
    { cat: 'üü¶ Devotional', items: [
      { name: 'Yadadri', price: 930, img: 'images/yadadri.jpg' },
      { name: 'Vemulawada', price: 1250, img: 'images/vemulawada.jpg' },
      { name: 'Basara', price: 1460, img: 'images/basara.jpg' },
      { name: 'Kondagattu', price: 1393, img: 'images/kondagattu.jpg' },
      { name: 'Bhadrachalam', price: 1800, img: 'images/bhadrachalam.jpg' }
    ]},
    { cat: 'üü¶ Waterfalls / Nature', items: [
      { name: 'Papikondalu', price: 1765, img: 'images/papikondalu.jpg' },
      { name: 'Laknavaram', price: 1460, img: 'images/laknavaram.jpg' },
      { name: 'Ramappa Temple', price: 1495, img: 'images/ramappa.jpg' },
      { name: 'Kuntala + Pochera', price: 1720, img: 'images/kuntala.jpg' },
      { name: 'Gayatri Waterfalls', price: 1645, img: 'images/gayatri.jpg' }
    ]},
    { cat: 'üü¶ Andhra Pradesh Trips', items: [
      { name: 'Srisailam', price: 1525, img: 'images/srisailam.jpg' },
      { name: 'Horsley Hills', price: 2670, img: 'images/horsley.jpg' },
      { name: 'Gandikota', price: 2065, img: 'images/gandikota.jpg' },
      { name: 'Ahobilam', price: 1995, img: 'images/ahobilam.jpg' }
    ]},
    { cat: 'üü¶ Karnataka Trips', items: [
      { name: 'Bidar', price: 1215, img: 'images/bidar.jpg' },
      { name: 'Basavakalyan Fort', price: 1460, img: 'images/basavakalyan.jpg' },
      { name: 'Hampi', price: 2065, img: 'images/hampi.jpg' }
    ]},
    { cat: 'üü¶ Maharashtra Trips', items: [
      { name: 'Nanded (Hazur Sahib)', price: 1720, img: 'images/nanded.jpg' },
      { name: 'Ajanta & Ellora', price: 2600, img: 'images/ajanta.jpg' }
    ]},
    { cat: 'üü® Extra Places', items: [
      { name: 'Araku Valley', price: 2890, img: 'images/araku.jpg' },
      { name: 'Katiki Waterfalls', price: 2960, img: 'images/katiki.jpg' },
      { name: 'Borra Caves', price: 2960, img: 'images/borra.jpg' }
    ]}
  ];

  // --- RENDER UI ---
  const container = document.getElementById('placesContainer');
  const tripSelect = document.getElementById('tripSelect');

  tripsData.forEach(category => {
    // Add Category Title
    const title = document.createElement('div');
    title.className = 'category-title';
    title.textContent = category.cat;
    container.appendChild(title);

    // Create Grid for this category
    const grid = document.createElement('div');
    grid.className = 'grid';

    category.items.forEach(trip => {
      // Add to main grid
      const card = document.createElement('div');
      card.className = 'trip-card';
      // Error handling: if image missing, show grey box
      card.innerHTML = `
        <img src="${trip.img}" class="trip-img" onerror="this.src='https://via.placeholder.com/300x200?text=${encodeURIComponent(trip.name)}'">
        <div class="trip-info">
          <h4 class="trip-name">${trip.name}</h4>
          <div class="trip-price">‚Çπ${trip.price.toLocaleString('en-IN')}</div>
        </div>
      `;
      // Click card to select in dropdown
      card.onclick = () => {
        tripSelect.value = JSON.stringify({name: trip.name, price: trip.price});
        updatePrice();
        document.getElementById('bookingBox').scrollIntoView({behavior: "smooth"});
      };
      grid.appendChild(card);

      // Add to Dropdown options
      const opt = document.createElement('option');
      opt.value = JSON.stringify({name: trip.name, price: trip.price});
      opt.textContent = `${trip.name} - ‚Çπ${trip.price}`;
      tripSelect.appendChild(opt);
    });

    container.appendChild(grid);
  });

  // --- DATE GENERATOR (Next 8 Weekends) ---
  const dateSelect = document.getElementById('dateSelect');
  const today = new Date();
  for(let i=0; i<60; i++) {
    const d = new Date();
    d.setDate(today.getDate() + i);
    if(d.getDay() === 6 || d.getDay() === 0) { // Saturday or Sunday
      const opt = document.createElement('option');
      const dateStr = d.toLocaleDateString('en-IN', {weekday:'short', day:'numeric', month:'short'});
      opt.value = dateStr;
      opt.textContent = dateStr;
      dateSelect.appendChild(opt);
    }
  }

  // --- BOOKING LOGIC ---
  let selectedTrip = {};

  function updatePrice() {
    if(tripSelect.value) {
      selectedTrip = JSON.parse(tripSelect.value);
    }
  }
  // Initialize
  if(tripSelect.options.length > 0) updatePrice();

  function goToPayment() {
    // Validation
    const name = document.getElementById('name').value;
    const mobile = document.getElementById('mobile').value;
    const age = document.getElementById('age').value;
    const gender = document.getElementById('gender').value;

    if(!name || mobile.length !== 10 || !age || !gender) {
      alert("Please fill all details correctly.");
      return;
    }

    // Update Payment Screen
    document.getElementById('payAmount').textContent = '‚Çπ' + selectedTrip.price.toLocaleString('en-IN');
    
    // Switch View
    document.getElementById('step1').style.display = 'none';
    document.getElementById('step2').style.display = 'block';
  }

  function goBack() {
    document.getElementById('step2').style.display = 'none';
    document.getElementById('step1').style.display = 'block';
  }

  // --- PAYMENT LOGIC ---
  function copyUpi() {
    navigator.clipboard.writeText(UPI_ID);
    alert("UPI ID Copied: " + UPI_ID);
  }

  function openUpi(app) {
    // This tries to open specific apps via Intent
    // Note: This works best on Android Mobile
    const amount = selectedTrip.price;
    const note = "Trip Booking";
    const name = "GVR Travels";
    let url = `upi://pay?pa=${UPI_ID}&pn=${name}&am=${amount}&tn=${note}`;
    
    // In a real app, you might try specific scheme prefixes, but standard upi:// is safest fallback
    window.location.href = url;
  }

  function confirmPayment() {
    // Gather all data
    const name = document.getElementById('name').value;
    const mobile = document.getElementById('mobile').value;
    const age = document.getElementById('age').value;
    const gender = document.getElementById('gender').value;
    const date = document.getElementById('dateSelect').value;
    const tripName = selectedTrip.name;
    const amount = selectedTrip.price;

    // Create WhatsApp Message
    const msg = `*New Trip Booking!* üöç%0A%0A` +
                `*Name:* ${name}%0A` +
                `*Age/Gender:* ${age} / ${gender}%0A` +
                `*Mobile:* ${mobile}%0A` +
                `*Trip:* ${tripName}%0A` +
                `*Date:* ${date}%0A` +
                `*Amount Paid:* ‚Çπ${amount}%0A%0A` +
                `I have completed the payment via UPI/QR. Please confirm my seat.`;

    // Open WhatsApp
    const waUrl = `https://wa.me/91${ADMIN_PHONE}?text=${msg}`;
    window.open(waUrl, '_blank');
    
    alert("Redirecting to WhatsApp to send booking details...");
  }
</script>

</body>
</html>
