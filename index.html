<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GVR_TRAVLP - Weekend Traveller</title>
  <style>
    :root{--accent:#ff7a18;--muted:#666;--bg:#fbf7f0}
    body{font-family:Inter,system-ui,Segoe UI,Arial;color:#222;background:var(--bg);margin:0}
    .container{max-width:980px;margin:24px auto;padding:18px}
    header{display:flex;align-items:center;gap:12px}
    .logo{width:84px;height:84px;border-radius:12px;object-fit:contain}
    h1{margin:0;font-size:22px}
    .sub{color:var(--muted);font-size:14px}
    .hero{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
    .card{background:white;border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    .yt{width:100%;height:220px;border-radius:8px;overflow:hidden}
    .gallery{display:flex;gap:8px;margin-top:10px}
    .gallery img{width:100px;height:70px;object-fit:cover;border-radius:8px}
    .trips{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:14px}
    .trip{padding:12px;border-radius:10px;background:linear-gradient(#fff,#fff)}
    .trip h3{margin:0;font-size:16px}
    .price{font-weight:700;color:var(--accent);font-size:18px;margin-top:8px}
    form{display:flex;flex-direction:column;gap:8px}
    input,select,button{padding:10px;border-radius:8px;border:1px solid #e6e6e6;font-size:14px}
    button{background:var(--accent);color:white;border:none;cursor:pointer}
    footer{margin-top:24px;color:var(--muted);font-size:13px;text-align:center}
    @media(max-width:880px){.hero{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <!-- Replace assets/logo.png with your logo file in the repo -->
      <img src="assets/logo.png" alt="GVR_TRAVLP logo" class="logo" id="siteLogo">
      <div>
        <h1>GVR_TRAVLP — Weekend Traveller</h1>
        <div class="sub">YouTube: @gvryalla · Hyderabad trips · Strangers Meet</div>
      </div>
    </header>

    <section class="hero">
      <div>
        <div class="card">
          <div class="yt">
            <!-- YouTube embed: change the src id to match your video (pEG-jPP4x5c) -->
            <iframe width="100%" height="100%" src="https://www.youtube.com/embed/pEG-jPP4x5c" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          </div>

          <h2 style="font-size:18px;margin-top:12px">What you'll see</h2>
          <p class="sub">This module shows trip highlights, visiting places' images and a simple registration form. Budget breakdowns are hidden — only the final cost per person is shown.</p>

          <div class="gallery" id="placesGallery">
            <!-- Placeholders: put images under assets/places/ (e.g. assets/places/1.jpg) -->
            <img src="assets/places/1.jpg" alt="place1">
            <img src="assets/places/2.jpg" alt="place2">
            <img src="assets/places/3.jpg" alt="place3">
            <img src="assets/places/4.jpg" alt="place4">
          </div>
        </div>

        <div class="trips" style="margin-top:12px">
          <!-- Each trip card shows only final total cost per person -->
          <div class="trip card">
            <h3>Hyderabad → Bhadrachalam</h3>
            <div class="price">₹1,799 / person</div>
            <p class="sub">2 days · Includes transport and food (final cost shown)</p>
          </div>

          <div class="trip card">
            <h3>Hyderabad → Papikondalu (Boat)</h3>
            <div class="price">₹2,299 / person</div>
            <p class="sub">1 night · Boat sightseeing (final cost shown)</p>
          </div>

          <div class="trip card">
            <h3>Weekend Explore — Local</h3>
            <div class="price">₹999 / person</div>
            <p class="sub">One-day local trip</p>
          </div>
        </div>

      </div>

      <aside>
        <div class="card">
          <h3>Register your spot</h3>
          <p class="sub">Enter your details and mobile number. We'll notify the organizer (GVR) when someone registers.</p>

          <!--
            FORM: This is configured to use Formspree (or any other form backend).
            1) Replace FORM_ENDPOINT with your Formspree endpoint (or Netlify Forms endpoint).
            2) If you prefer Google Forms, replace the form action with your Google Form action URL and input names.
          -->

          <form id="registerForm">
            <input type="text" id="name" name="name" placeholder="Full name" required>
            <input type="tel" id="mobile" name="mobile" placeholder="Mobile number (India: 10 digits)" required pattern="[0-9]{10}">
            <select id="trip" name="trip">
              <option value="Bhadrachalam">Hyderabad → Bhadrachalam — ₹1,799</option>
              <option value="Papikondalu">Hyderabad → Papikondalu — ₹2,299</option>
              <option value="Local">Weekend Local — ₹999</option>
            </select>

            <button type="submit">Register & Notify</button>
          </form>

          <p id="formMsg" class="sub" style="margin-top:8px"></p>

          <hr style="margin-top:12px">
          <p class="sub">Or contact directly:</p>
          <p><a id="waLink" href="#" target="_blank">Message on WhatsApp</a></p>
        </div>
      </aside>
    </section>

    <footer>
      © GVR_TRAVLP — Travel far and feed with love · Follow @gvryalla
    </footer>
  </div>

  <script>
    // --- CONFIG: update these values before publishing ---
    const FORM_ENDPOINT = 'https://formspree.io/f/YOUR_FORM_ID'; // <-- replace with your Formspree endpoint
    const ADMIN_EMAIL = 'youremail@example.com'; // <-- used only in instructions; Formspree will send emails to form owner
    const ADMIN_WHATSAPP = '+91XXXXXXXXXX'; // <-- replace with your phone number in international format for WA link

    // Set WhatsApp link for direct contact (opens WhatsApp chat)
    const waLinkEl = document.getElementById('waLink');
    waLinkEl.href = `https://wa.me/${ADMIN_WHATSAPP.replace(/\D/g,'')}?text=${encodeURIComponent('Hello GVR, I want to know about upcoming trips.')}`;

    // Simple client-side form submit to Formspree + open mailto (fallback) + show friendly message
    document.getElementById('registerForm').addEventListener('submit', async function(e){
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const mobile = document.getElementById('mobile').value.trim();
      const trip = document.getElementById('trip').value;
      const data = {name, mobile, trip, source: location.href};

      // show immediate confirmation
      const msgEl = document.getElementById('formMsg');
      msgEl.textContent = 'Registering...';

      try{
        // send to Formspree (or whichever form backend you set)
        const res = await fetch(FORM_ENDPOINT, {
          method: 'POST',
          headers: {'Content-Type':'application/json','Accept':'application/json'},
          body: JSON.stringify(data)
        });

        if(res.ok){
          msgEl.textContent = 'Thank you! You are registered. Organizer will be notified.';

          // Optionally, open WhatsApp chat window to notify admin (this requires admin phone to be configured)
          // We open in a small window so the user sees the notification step — this is optional and can be removed.
          const waUrl = `https://wa.me/${ADMIN_WHATSAPP.replace(/\D/g,'')}?text=${encodeURIComponent(`New registration: ${name} (${mobile}) for ${trip}`)}`;
          // open notification in new tab
          window.open(waUrl,'_blank');

          // reset form after success
          document.getElementById('registerForm').reset();
        } else {
          // fallback: open mailto to notify admin and show friendly message
          msgEl.innerHTML = 'Registration failed (backend). <a href="mailto:'+ADMIN_EMAIL+'?subject=Registration%20Failed&body='+encodeURIComponent(JSON.stringify(data))+'">Notify admin by email</a>';
        }
      }catch(err){
        console.error(err);
        msgEl.innerHTML = 'Error sending registration. <a href="mailto:'+ADMIN_EMAIL+'?subject=Registration&body='+encodeURIComponent(JSON.stringify(data))+'">Send email to admin</a>';
      }
    });
  </script>
</body>
</html>
